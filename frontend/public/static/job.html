<!DOCTYPE html>
<html lang="en">
<head>
	<title>Table V01</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="{{ url_for('static',filename='images/icons/favicon.ico') }}"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='vendor/bootstrap/css/bootstrap.min.css') }}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='fonts/font-awesome-4.7.0/css/font-awesome.min.css') }}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='vendor/animate/animate.css') }}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='vendor/select2/select2.min.css') }}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='vendor/perfect-scrollbar/perfect-scrollbar.css') }}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/util.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/main.css') }}">
<!--===============================================================================================-->
	
<!--===============================================================================================-->
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!--===============================================================================================-->
    
<!--===============================================================================================-->	
	<script src="{{ url_for('static',filename='vendor/jquery/jquery-3.2.1.min.js') }}"></script>
<!--===============================================================================================-->
	<script src="{{ url_for('static',filename='vendor/bootstrap/js/popper.js') }}"></script>
	<script src="{{ url_for('static',filename='vendor/bootstrap/js/bootstrap.min.js') }}"></script>
<!--===============================================================================================-->
	<script src="{{ url_for('static',filename='vendor/select2/select2.min.js') }}"></script>
<!--===============================================================================================-->
	<script src="{{ url_for('static',filename='js/main.js') }}"></script>
</head>

<body>
	
	<div class="limiter">
		<div class="container-table100">
			<div class="wrap-table100">
				<div class="table100">
                 	<div id="app">
						<table>
							<thead>
								<tr class="table100-head">
									<th class="column">编号</th>
									<th class="column2">物品名</th>
									<th class="column3">商家名</th>
									<th class="column4">付款金额</th>
									<th class="column5">任务数量</th>
									<th class="column6">任务佣金</th>
								</tr>
							</thead>
                            <tbody>
                            	<tr v-for = "(job, index) in jobs">
                                    <td class="column1">{{ index }}</td>
                                    <td class="column2">{{ job.item_id }}</td>
                                    <td class="column3">{{ job.store_id }}</td>
                                    <td class="column4">{{ job.pay_amount }}</td>
                                    <td class="column5">{{ job.task_amount }}</td>
                                    <td class="column6">{{ job.salary }}</td>
                                </tr>
                            </tbody>
						</table>
                    </div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.4"></script>

	<script>
		var link = 'http://localhost:5000/api/v1/jobs';
		const app = new Vue ({
		    el: '#app',
		    data: {
		        jobs: [],
		    },
		    methods:{
		        getJobs: function(){
		            this.$http.get(link).then(function(response){
		                this.jobs = JSON.parse(response.bodyText);
		            }, function(error){
		                console.log(error.statusText);
		            });
		        }
		    },
		    mounted: function () {
		        this.getJobs();
		    }
		});
	</script>

</body>
</html>